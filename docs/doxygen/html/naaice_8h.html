<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>naa-communication-prototype: /Users/hannessigner/Documents/Work/naa-communication-prototype/lib/naaice.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">naa-communication-prototype<span id="projectnumber">&#160;0.1</span>
   </div>
   <div id="projectbrief">Library for NAA communication via RoCEv2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',false);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){ initResizable(false); });
/* @license-end */
</script>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li>  </ul>
</div>
</div><!-- top -->
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">naaice.h File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;endian.h&gt;</code><br />
<code>#include &lt;errno.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;inttypes.h&gt;</code><br />
<code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &lt;sys/poll.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;limits.h&gt;</code><br />
<code>#include &lt;netdb.h&gt;</code><br />
<code>#include &lt;rdma/rdma_cma.h&gt;</code><br />
<code>#include &lt;rdma/rdma_verbs.h&gt;</code><br />
<code>#include &lt;sys/socket.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for naaice.h:</div>
<div class="dyncontent">
<div class="center"><img src="naaice_8h__incl.png" border="0" usemap="#a_2Users_2hannessigner_2Documents_2Work_2naa-communication-prototype_2lib_2naaice_8h" alt=""/></div>
</div>
</div><div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="naaice_8h__dep__incl.png" border="0" usemap="#a_2Users_2hannessigner_2Documents_2Work_2naa-communication-prototype_2lib_2naaice_8hdep" alt=""/></div>
</div>
</div>
<p><a href="naaice_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnaaice__mr__advertisement.html">naaice_mr_advertisement</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory region advertisement message structure.  <a href="structnaaice__mr__advertisement.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnaaice__mr__advertisement__request.html">naaice_mr_advertisement_request</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory region advertisement and request message structure.  <a href="structnaaice__mr__advertisement__request.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnaaice__mr__request.html">naaice_mr_request</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory region request message structure.  <a href="structnaaice__mr__request.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnaaice__mr__error.html">naaice_mr_error</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Memory region error message structure.  <a href="structnaaice__mr__error.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnaaice__mr__hdr.html">naaice_mr_hdr</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnaaice__mr__dynamic__hdr.html">naaice_mr_dynamic_hdr</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnaaice__mr__peer.html">naaice_mr_peer</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about a remote (peer) memory region.  <a href="structnaaice__mr__peer.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnaaice__mr__local.html">naaice_mr_local</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about a local memory region.  <a href="structnaaice__mr__local.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnaaice__mr__internal.html">naaice_mr_internal</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Information about an internal memory region on the NAA.  <a href="structnaaice__mr__internal.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnaaice__rpc__metadata.html">naaice_rpc_metadata</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Metadata stored in a dedicated memory region for RPC.  <a href="structnaaice__rpc__metadata.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Communication context for NAA connections.  <a href="structnaaice__communication__context.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aa350dcd01a7f3234d44b73b37fb9c906" id="r_aa350dcd01a7f3234d44b73b37fb9c906"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa350dcd01a7f3234d44b73b37fb9c906">RX_DEPTH</a>&#160;&#160;&#160;1025</td></tr>
<tr class="separator:aa350dcd01a7f3234d44b73b37fb9c906"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a7fe653db1b12381e8189b96d3d8bd1" id="r_a4a7fe653db1b12381e8189b96d3d8bd1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a7fe653db1b12381e8189b96d3d8bd1">ntohll</a>&#160;&#160;&#160;be64toh</td></tr>
<tr class="separator:a4a7fe653db1b12381e8189b96d3d8bd1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc94cd8dc29ed8b19db4cc23ed830618" id="r_abc94cd8dc29ed8b19db4cc23ed830618"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#abc94cd8dc29ed8b19db4cc23ed830618">htonll</a>&#160;&#160;&#160;htobe64</td></tr>
<tr class="separator:abc94cd8dc29ed8b19db4cc23ed830618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeb2c8b9b4d058b7930d52db59b5f9051" id="r_gaeb2c8b9b4d058b7930d52db59b5f9051"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__defines.html#gaeb2c8b9b4d058b7930d52db59b5f9051">TIMEOUT_RESOLVE_ROUTE</a>&#160;&#160;&#160;500</td></tr>
<tr class="memdesc:gaeb2c8b9b4d058b7930d52db59b5f9051"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timeout for resolving RDMA routes, in milliseconds.  <br /></td></tr>
<tr class="separator:gaeb2c8b9b4d058b7930d52db59b5f9051"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac5aea11b8390f14300a4050cfd3f1fcb" id="r_gac5aea11b8390f14300a4050cfd3f1fcb"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__defines.html#gac5aea11b8390f14300a4050cfd3f1fcb">POLLING_TIMEOUT</a>&#160;&#160;&#160;500</td></tr>
<tr class="memdesc:gac5aea11b8390f14300a4050cfd3f1fcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timeout for poll functions, in milliseconds.  <br /></td></tr>
<tr class="separator:gac5aea11b8390f14300a4050cfd3f1fcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaad2dd72565852b91c809cd4685833b17" id="r_gaad2dd72565852b91c809cd4685833b17"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__defines.html#gaad2dd72565852b91c809cd4685833b17">DEFAULT_TIMEOUT</a>&#160;&#160;&#160;3600</td></tr>
<tr class="memdesc:gaad2dd72565852b91c809cd4685833b17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default timeout for blocking calls to the NAA, in seconds.  <br /></td></tr>
<tr class="separator:gaad2dd72565852b91c809cd4685833b17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7bde5b78c001e2bbcf25de2822064697" id="r_ga7bde5b78c001e2bbcf25de2822064697"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__defines.html#ga7bde5b78c001e2bbcf25de2822064697">DEFAULT_RETRY_COUNT</a>&#160;&#160;&#160;7</td></tr>
<tr class="separator:ga7bde5b78c001e2bbcf25de2822064697"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a049854a6a057ed70a44c47de7e91be10" id="r_a049854a6a057ed70a44c47de7e91be10"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a049854a6a057ed70a44c47de7e91be10">MAX_MRS</a>&#160;&#160;&#160;32</td></tr>
<tr class="separator:a049854a6a057ed70a44c47de7e91be10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af773304c3ca92ded89dc28f3014e1631" id="r_af773304c3ca92ded89dc28f3014e1631"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af773304c3ca92ded89dc28f3014e1631">IMMEDIATE_OFFSET</a>&#160;&#160;&#160;8</td></tr>
<tr class="separator:af773304c3ca92ded89dc28f3014e1631"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22820c4f9335d5ae28f7d87295611862" id="r_a22820c4f9335d5ae28f7d87295611862"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a22820c4f9335d5ae28f7d87295611862">MR_SIZE_MRSP</a>&#160;&#160;&#160;sizeof(struct <a class="el" href="structnaaice__mr__advertisement__request.html">naaice_mr_advertisement_request</a>) * <a class="el" href="#a049854a6a057ed70a44c47de7e91be10">MAX_MRS</a></td></tr>
<tr class="separator:a22820c4f9335d5ae28f7d87295611862"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a5f2be45182f0cc39afb7cc3a8d55a1f1" id="r_a5f2be45182f0cc39afb7cc3a8d55a1f1"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a5f2be45182f0cc39afb7cc3a8d55a1f1">message_id</a> { <a class="el" href="#a5f2be45182f0cc39afb7cc3a8d55a1f1a8fd265e7fd63cf70cfc8e61d515c7660">MSG_MR_ERR</a> = 0x00
, <a class="el" href="#a5f2be45182f0cc39afb7cc3a8d55a1f1a2452686f8cba3b6595541692c6090f63">MSG_MR_AAR</a> = 0x01
, <a class="el" href="#a5f2be45182f0cc39afb7cc3a8d55a1f1a509feadbdb916483a76b424927cf5774">MSG_MR_A</a> = 0x02
, <a class="el" href="#a5f2be45182f0cc39afb7cc3a8d55a1f1a3a97e2ca003744ca41dde8d9e36ba273">MSG_MR_R</a> = 0x03
 }</td></tr>
<tr class="memdesc:a5f2be45182f0cc39afb7cc3a8d55a1f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message IDs used for packets sent between host and NAA.  <a href="#a5f2be45182f0cc39afb7cc3a8d55a1f1">More...</a><br /></td></tr>
<tr class="separator:a5f2be45182f0cc39afb7cc3a8d55a1f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21fb508cec847f2df016cd6620aeff23" id="r_a21fb508cec847f2df016cd6620aeff23"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a21fb508cec847f2df016cd6620aeff23">naaice_mrflags_value</a> { <a class="el" href="#a21fb508cec847f2df016cd6620aeff23a5e908e514ded090eea43eac86edf15e7">MRFLAG_INTERNAL</a> = 0x01
, <a class="el" href="#a21fb508cec847f2df016cd6620aeff23ae1ab55e3a2b3476e3aff68bddc892d0d">MRFLAG_SINGLESEND</a> = 0x02
, <a class="el" href="#a21fb508cec847f2df016cd6620aeff23a7a7acefda94a542c3fb6dceec98ffaaa">MRFLAG_INPUT</a> = 0x04
, <a class="el" href="#a21fb508cec847f2df016cd6620aeff23a5fc89f04dd09b11b48c3196c85427450">MRFLAG_OUTPUT</a> = 0x08
 }</td></tr>
<tr class="memdesc:a21fb508cec847f2df016cd6620aeff23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flags for memory regions in <a class="el" href="structnaaice__mr__advertisement__request.html" title="Memory region advertisement and request message structure.">naaice_mr_advertisement_request</a>.  <a href="#a21fb508cec847f2df016cd6620aeff23">More...</a><br /></td></tr>
<tr class="separator:a21fb508cec847f2df016cd6620aeff23"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5e8ebba1c33bfad2aec98b1e01102499" id="r_ga5e8ebba1c33bfad2aec98b1e01102499"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__StructsEnums.html#ga5e8ebba1c33bfad2aec98b1e01102499">naaice_communication_state</a> { <br />
&#160;&#160;<a class="el" href="group__StructsEnums.html#gga5e8ebba1c33bfad2aec98b1e01102499a2b39831b3d37861c0836f825c7155c87">NAAICE_INIT</a> = 0
, <a class="el" href="group__StructsEnums.html#gga5e8ebba1c33bfad2aec98b1e01102499a18b3eaa5387daae9cc106f001fcd4080">NAAICE_READY</a> = 1
, <a class="el" href="group__StructsEnums.html#gga5e8ebba1c33bfad2aec98b1e01102499af9cc149ba2f0beeb6770489629a9f9b4">NAAICE_CONNECTED</a> = 2
, <a class="el" href="group__StructsEnums.html#gga5e8ebba1c33bfad2aec98b1e01102499af2fac984554c84cfece8c9dd70f2ab2f">NAAICE_DISCONNECTED</a> = 3
, <br />
&#160;&#160;<a class="el" href="group__StructsEnums.html#gga5e8ebba1c33bfad2aec98b1e01102499a833cc6b658aa83b4b73d3a5e85d0407c">NAAICE_MRSP_SENDING</a> = 10
, <a class="el" href="group__StructsEnums.html#gga5e8ebba1c33bfad2aec98b1e01102499a089eafcd9d0d5c4b0ac755c4d0095227">NAAICE_MRSP_RECEIVING</a> = 11
, <a class="el" href="group__StructsEnums.html#gga5e8ebba1c33bfad2aec98b1e01102499a8564fdbaf1eecfe48290a285c355d9ec">NAAICE_MRSP_DONE</a> = 12
, <a class="el" href="group__StructsEnums.html#gga5e8ebba1c33bfad2aec98b1e01102499aae09fba7ce6e1507c7eda329cfff056c">NAAICE_DATA_SENDING</a> = 20
, <br />
&#160;&#160;<a class="el" href="group__StructsEnums.html#gga5e8ebba1c33bfad2aec98b1e01102499aa97bb9c763fe1c6611157a097309fd2f">NAAICE_CALCULATING</a> = 21
, <a class="el" href="group__StructsEnums.html#gga5e8ebba1c33bfad2aec98b1e01102499abcfd2d16d79fc8c92838f0db2cc05627">NAAICE_DATA_RECEIVING</a> = 22
, <a class="el" href="group__StructsEnums.html#gga5e8ebba1c33bfad2aec98b1e01102499a56fbe9d1b74e957c24d5df85b94d6e14">NAAICE_FINISHED</a> = 30
, <a class="el" href="group__StructsEnums.html#gga5e8ebba1c33bfad2aec98b1e01102499a5fd2423c93c92920f8bf3668004a38cd">NAAICE_ERROR</a> = 40
<br />
 }</td></tr>
<tr class="memdesc:ga5e8ebba1c33bfad2aec98b1e01102499"><td class="mdescLeft">&#160;</td><td class="mdescRight">Connection state machine for NAA communication.  <a href="group__StructsEnums.html#ga5e8ebba1c33bfad2aec98b1e01102499">More...</a><br /></td></tr>
<tr class="separator:ga5e8ebba1c33bfad2aec98b1e01102499"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga6f3ba43a0744d3118a6fb194503eb63e" id="r_ga6f3ba43a0744d3118a6fb194503eb63e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#ga6f3ba43a0744d3118a6fb194503eb63e">naaice_init_communication_context</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> **comm_ctx, uint64_t addr_offset, size_t *param_sizes, char **params, unsigned int params_amount, unsigned int internal_mr_amount, size_t *internal_mr_sizes, uint8_t fncode, const char *local_address, const char *remote_address, uint16_t port)</td></tr>
<tr class="memdesc:ga6f3ba43a0744d3118a6fb194503eb63e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes communication context struct.  <br /></td></tr>
<tr class="separator:ga6f3ba43a0744d3118a6fb194503eb63e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf2fe88c227bab4e0722365efc2dba892" id="r_gaf2fe88c227bab4e0722365efc2dba892"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#gaf2fe88c227bab4e0722365efc2dba892">naaice_poll_connection_event</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx, struct rdma_cm_event *ev, struct rdma_cm_event *ev_cp)</td></tr>
<tr class="memdesc:gaf2fe88c227bab4e0722365efc2dba892"><td class="mdescLeft">&#160;</td><td class="mdescRight">Polls for a connection event on the RDMA event channel.  <br /></td></tr>
<tr class="separator:gaf2fe88c227bab4e0722365efc2dba892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4b5436e11c02694060160979030d95a1" id="r_ga4b5436e11c02694060160979030d95a1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__event__handlers.html#ga4b5436e11c02694060160979030d95a1">naaice_handle_addr_resolved</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx, struct rdma_cm_event *ev)</td></tr>
<tr class="memdesc:ga4b5436e11c02694060160979030d95a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle RDMA_CM_EVENT_ADDR_RESOLVED.  <br /></td></tr>
<tr class="separator:ga4b5436e11c02694060160979030d95a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafc4354e4bf95ecb75d18db774576193e" id="r_gafc4354e4bf95ecb75d18db774576193e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__event__handlers.html#gafc4354e4bf95ecb75d18db774576193e">naaice_handle_route_resolved</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx, struct rdma_cm_event *ev)</td></tr>
<tr class="memdesc:gafc4354e4bf95ecb75d18db774576193e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle RDMA_CM_EVENT_ROUTE_RESOLVED.  <br /></td></tr>
<tr class="separator:gafc4354e4bf95ecb75d18db774576193e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga24acca87a515ab9019a66db096783210" id="r_ga24acca87a515ab9019a66db096783210"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__event__handlers.html#ga24acca87a515ab9019a66db096783210">naaice_handle_connection_established</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx, struct rdma_cm_event *ev)</td></tr>
<tr class="memdesc:ga24acca87a515ab9019a66db096783210"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle RDMA_CM_EVENT_CONNECT_ESTABLISHED.  <br /></td></tr>
<tr class="separator:ga24acca87a515ab9019a66db096783210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga82967cd400958762446f2f78ea6707e0" id="r_ga82967cd400958762446f2f78ea6707e0"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__event__handlers.html#ga82967cd400958762446f2f78ea6707e0">naaice_handle_error</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx, struct rdma_cm_event *ev)</td></tr>
<tr class="memdesc:ga82967cd400958762446f2f78ea6707e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle RDMA connection error events.  <br /></td></tr>
<tr class="separator:ga82967cd400958762446f2f78ea6707e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac4798696d7a0940b2e00a69829050721" id="r_gac4798696d7a0940b2e00a69829050721"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__connection__event__handlers.html#gac4798696d7a0940b2e00a69829050721">naaice_handle_other</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx, struct rdma_cm_event *ev)</td></tr>
<tr class="memdesc:gac4798696d7a0940b2e00a69829050721"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle all other, unsupported or unexpected RDMA CM events.  <br /></td></tr>
<tr class="separator:gac4798696d7a0940b2e00a69829050721"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga241fe974872b43327aa2bb3f8fcf56c9" id="r_ga241fe974872b43327aa2bb3f8fcf56c9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#ga241fe974872b43327aa2bb3f8fcf56c9">naaice_poll_and_handle_connection_event</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx)</td></tr>
<tr class="memdesc:ga241fe974872b43327aa2bb3f8fcf56c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll and handle a connection event on the RDMA event channel.  <br /></td></tr>
<tr class="separator:ga241fe974872b43327aa2bb3f8fcf56c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga41cae89395d0303a73aa675c9be5ed05" id="r_ga41cae89395d0303a73aa675c9be5ed05"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#ga41cae89395d0303a73aa675c9be5ed05">naaice_setup_connection</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx)</td></tr>
<tr class="memdesc:ga41cae89395d0303a73aa675c9be5ed05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up the RDMA connection.  <br /></td></tr>
<tr class="separator:ga41cae89395d0303a73aa675c9be5ed05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae242db34a7bfaea52853646886269fca" id="r_gae242db34a7bfaea52853646886269fca"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#gae242db34a7bfaea52853646886269fca">naaice_register_mrs</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx)</td></tr>
<tr class="memdesc:gae242db34a7bfaea52853646886269fca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register local memory regions.  <br /></td></tr>
<tr class="separator:gae242db34a7bfaea52853646886269fca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac477d9f2f20410154089940519d29ff3" id="r_gac477d9f2f20410154089940519d29ff3"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#gac477d9f2f20410154089940519d29ff3">naaice_set_parameter_mrs</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx, unsigned int n_parameter_mrs, uint64_t *local_addrs, uint64_t *remote_addrs, size_t *sizes)</td></tr>
<tr class="memdesc:gac477d9f2f20410154089940519d29ff3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate and initialize parameter memory region descriptors.  <br /></td></tr>
<tr class="separator:gac477d9f2f20410154089940519d29ff3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga78223d8aa683630e139217773b9bf9b2" id="r_ga78223d8aa683630e139217773b9bf9b2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#ga78223d8aa683630e139217773b9bf9b2">naaice_set_input_mr</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx, unsigned int input_mr_idx)</td></tr>
<tr class="memdesc:ga78223d8aa683630e139217773b9bf9b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark a memory region as input and/or output.  <br /></td></tr>
<tr class="separator:ga78223d8aa683630e139217773b9bf9b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf80665027802da485541cebd9cbe5570" id="r_gaf80665027802da485541cebd9cbe5570"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#gaf80665027802da485541cebd9cbe5570">naaice_set_output_mr</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx, unsigned int output_mr_idx)</td></tr>
<tr class="memdesc:gaf80665027802da485541cebd9cbe5570"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark a memory region as an output parameter.  <br /></td></tr>
<tr class="separator:gaf80665027802da485541cebd9cbe5570"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e0bb6d9854ad7e39a49fd5907d394da" id="r_ga3e0bb6d9854ad7e39a49fd5907d394da"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#ga3e0bb6d9854ad7e39a49fd5907d394da">naaice_set_singlesend_mr</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx, unsigned int singlesend_mr_idx)</td></tr>
<tr class="memdesc:ga3e0bb6d9854ad7e39a49fd5907d394da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mark a memory region as a single-send region.  <br /></td></tr>
<tr class="separator:ga3e0bb6d9854ad7e39a49fd5907d394da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6f329c9fac52b8c65c5b9d8441ca2065" id="r_ga6f329c9fac52b8c65c5b9d8441ca2065"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#ga6f329c9fac52b8c65c5b9d8441ca2065">naaice_set_internal_mrs</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx, unsigned int n_internal_mrs, uint64_t *addrs, size_t *sizes)</td></tr>
<tr class="memdesc:ga6f329c9fac52b8c65c5b9d8441ca2065"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add internal memory regions to the communication context.  <br /></td></tr>
<tr class="separator:ga6f329c9fac52b8c65c5b9d8441ca2065"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab1eaa0617fe2d1cd8f6a0248b9869283" id="r_gab1eaa0617fe2d1cd8f6a0248b9869283"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#gab1eaa0617fe2d1cd8f6a0248b9869283">naaice_set_immediate</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx, uint8_t *imm_bytes)</td></tr>
<tr class="memdesc:gab1eaa0617fe2d1cd8f6a0248b9869283"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the immediate value for data transfer.  <br /></td></tr>
<tr class="separator:gab1eaa0617fe2d1cd8f6a0248b9869283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3babb3d708aec505bfc0df1223acba28" id="r_ga3babb3d708aec505bfc0df1223acba28"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#ga3babb3d708aec505bfc0df1223acba28">naaice_init_mrsp</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx)</td></tr>
<tr class="memdesc:ga3babb3d708aec505bfc0df1223acba28"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the Memory Region Setup Protocol (MRSP).  <br /></td></tr>
<tr class="separator:ga3babb3d708aec505bfc0df1223acba28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gacd927690e6d6b807be794b34878630d1" id="r_gacd927690e6d6b807be794b34878630d1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#gacd927690e6d6b807be794b34878630d1">naaice_init_data_transfer</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx)</td></tr>
<tr class="memdesc:gacd927690e6d6b807be794b34878630d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the data transfer to the NAA.  <br /></td></tr>
<tr class="separator:gacd927690e6d6b807be794b34878630d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a05d334df39718b31030442d172e1e6" id="r_ga7a05d334df39718b31030442d172e1e6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#ga7a05d334df39718b31030442d172e1e6">naaice_handle_work_completion</a> (struct ibv_wc *wc, struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx)</td></tr>
<tr class="memdesc:ga7a05d334df39718b31030442d172e1e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a single work completion from the completion queue.  <br /></td></tr>
<tr class="separator:ga7a05d334df39718b31030442d172e1e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4a8fd1c6bbd8589868fa454c8f8c863" id="r_gaf4a8fd1c6bbd8589868fa454c8f8c863"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#gaf4a8fd1c6bbd8589868fa454c8f8c863">naaice_poll_cq_nonblocking</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx)</td></tr>
<tr class="memdesc:gaf4a8fd1c6bbd8589868fa454c8f8c863"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll the completion queue non-blocking.  <br /></td></tr>
<tr class="separator:gaf4a8fd1c6bbd8589868fa454c8f8c863"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa6fdf267f0d16b71b1cde8f337332035" id="r_gaa6fdf267f0d16b71b1cde8f337332035"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#gaa6fdf267f0d16b71b1cde8f337332035">naaice_poll_cq_blocking</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx)</td></tr>
<tr class="memdesc:gaa6fdf267f0d16b71b1cde8f337332035"><td class="mdescLeft">&#160;</td><td class="mdescRight">Poll the completion queue blocking.  <br /></td></tr>
<tr class="separator:gaa6fdf267f0d16b71b1cde8f337332035"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74338ed21867befe5820a7cde3d7a71c" id="r_ga74338ed21867befe5820a7cde3d7a71c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#ga74338ed21867befe5820a7cde3d7a71c">naaice_disconnect_and_cleanup</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx)</td></tr>
<tr class="memdesc:ga74338ed21867befe5820a7cde3d7a71c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Disconnect and clean up the communication context.  <br /></td></tr>
<tr class="separator:ga74338ed21867befe5820a7cde3d7a71c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8f0b77ff3c5376a9aa5b583c9cbf752b" id="r_ga8f0b77ff3c5376a9aa5b583c9cbf752b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#ga8f0b77ff3c5376a9aa5b583c9cbf752b">naaice_send_message</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx, enum <a class="el" href="#a5f2be45182f0cc39afb7cc3a8d55a1f1">message_id</a> message_type, uint8_t errorcode)</td></tr>
<tr class="memdesc:ga8f0b77ff3c5376a9aa5b583c9cbf752b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send an MRSP message to the remote peer.  <br /></td></tr>
<tr class="separator:ga8f0b77ff3c5376a9aa5b583c9cbf752b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gadd7def5aad3326ca5c416ad0158c0c57" id="r_gadd7def5aad3326ca5c416ad0158c0c57"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#gadd7def5aad3326ca5c416ad0158c0c57">naaice_write_data</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx, uint8_t fncode)</td></tr>
<tr class="memdesc:gadd7def5aad3326ca5c416ad0158c0c57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write memory regions to the NAA.  <br /></td></tr>
<tr class="separator:gadd7def5aad3326ca5c416ad0158c0c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83494efe81ac7802b6119438509e08fc" id="r_ga83494efe81ac7802b6119438509e08fc"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#ga83494efe81ac7802b6119438509e08fc">naaice_post_recv_mrsp</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx)</td></tr>
<tr class="memdesc:ga83494efe81ac7802b6119438509e08fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post a receive request for an MRSP message.  <br /></td></tr>
<tr class="separator:ga83494efe81ac7802b6119438509e08fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad9227128ecee083b491749888b8ff8b9" id="r_gad9227128ecee083b491749888b8ff8b9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#gad9227128ecee083b491749888b8ff8b9">naaice_post_recv_data</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx)</td></tr>
<tr class="memdesc:gad9227128ecee083b491749888b8ff8b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post a receive request for a memory region write.  <br /></td></tr>
<tr class="separator:gad9227128ecee083b491749888b8ff8b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaff209c1f0b59a45983c53f5698a25ed7" id="r_gaff209c1f0b59a45983c53f5698a25ed7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#gaff209c1f0b59a45983c53f5698a25ed7">naaice_init_rdma_resources</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx)</td></tr>
<tr class="memdesc:gaff209c1f0b59a45983c53f5698a25ed7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize RDMA resources.  <br /></td></tr>
<tr class="separator:gaff209c1f0b59a45983c53f5698a25ed7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8b2194c5a28e85fe089be51e060a8435" id="r_ga8b2194c5a28e85fe089be51e060a8435"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#ga8b2194c5a28e85fe089be51e060a8435">naaice_do_mrsp</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx)</td></tr>
<tr class="memdesc:ga8b2194c5a28e85fe089be51e060a8435"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the MRSP protocol in a blocking manner.  <br /></td></tr>
<tr class="separator:ga8b2194c5a28e85fe089be51e060a8435"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga43e50e171eff94f88abab88963d3cd7a" id="r_ga43e50e171eff94f88abab88963d3cd7a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#ga43e50e171eff94f88abab88963d3cd7a">naaice_do_data_transfer</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx)</td></tr>
<tr class="memdesc:ga43e50e171eff94f88abab88963d3cd7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Perform the complete data transfer in a blocking manner.  <br /></td></tr>
<tr class="separator:ga43e50e171eff94f88abab88963d3cd7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23fbc699ddcd9e7b8f292e225c7c9895" id="r_ga23fbc699ddcd9e7b8f292e225c7c9895"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__PublicFunctions.html#ga23fbc699ddcd9e7b8f292e225c7c9895">naaice_set_bytes_to_send</a> (struct <a class="el" href="structnaaice__communication__context.html">naaice_communication_context</a> *comm_ctx, int mr_idx, int number_bytes)</td></tr>
<tr class="memdesc:ga23fbc699ddcd9e7b8f292e225c7c9895"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the number of bytes to send from a memory region.  <br /></td></tr>
<tr class="separator:ga23fbc699ddcd9e7b8f292e225c7c9895"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="abc94cd8dc29ed8b19db4cc23ed830618" name="abc94cd8dc29ed8b19db4cc23ed830618"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abc94cd8dc29ed8b19db4cc23ed830618">&#9670;&#160;</a></span>htonll</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define htonll&#160;&#160;&#160;htobe64</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="af773304c3ca92ded89dc28f3014e1631" name="af773304c3ca92ded89dc28f3014e1631"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af773304c3ca92ded89dc28f3014e1631">&#9670;&#160;</a></span>IMMEDIATE_OFFSET</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define IMMEDIATE_OFFSET&#160;&#160;&#160;8</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a049854a6a057ed70a44c47de7e91be10" name="a049854a6a057ed70a44c47de7e91be10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a049854a6a057ed70a44c47de7e91be10">&#9670;&#160;</a></span>MAX_MRS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_MRS&#160;&#160;&#160;32</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a22820c4f9335d5ae28f7d87295611862" name="a22820c4f9335d5ae28f7d87295611862"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22820c4f9335d5ae28f7d87295611862">&#9670;&#160;</a></span>MR_SIZE_MRSP</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MR_SIZE_MRSP&#160;&#160;&#160;sizeof(struct <a class="el" href="structnaaice__mr__advertisement__request.html">naaice_mr_advertisement_request</a>) * <a class="el" href="#a049854a6a057ed70a44c47de7e91be10">MAX_MRS</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a4a7fe653db1b12381e8189b96d3d8bd1" name="a4a7fe653db1b12381e8189b96d3d8bd1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a7fe653db1b12381e8189b96d3d8bd1">&#9670;&#160;</a></span>ntohll</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ntohll&#160;&#160;&#160;be64toh</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="aa350dcd01a7f3234d44b73b37fb9c906" name="aa350dcd01a7f3234d44b73b37fb9c906"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa350dcd01a7f3234d44b73b37fb9c906">&#9670;&#160;</a></span>RX_DEPTH</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RX_DEPTH&#160;&#160;&#160;1025</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>TODO:</p>
<p>(functionality)</p>
<ul>
<li>Consider the use of posix_memalign in naaice_init_communication_context. This is a reallocation of the input parameters. Should we instead require that the user ensure memory alignment, or find a way to ensure it without reallocation? Aligned memory isn't strictly necessary, it just has some performance implications</li>
<li>Handle errors better, utilizing errno and ERROR state in state machine.</li>
<li>Unify some of the packet structs used in naaice_send_message, so that a single type can be used rather than concatenating headers, for example.</li>
<li>Make type usage more uniform, i.e. single types for MR addr pointers and sizes. AP1 Usage For standard operation, functions should be called in the following order:</li>
</ul>
<ol type="1">
<li>naaice_init_communication_context</li>
<li>(in any order) naaice_setup_connection naaice_register_mrs naaice_set_internal_mrs (optional) naaice_set_input_mr naaice_set_output_mr naaice_set_singlesend_mr (optional)</li>
<li>naaice_set_bytes_to_send (optional)</li>
<li>naaice_do_mrsp</li>
<li>naaice_do_data_transfer</li>
<li>naaice_disconnect_and_cleanup</li>
</ol>
<p>naaice_do_mrsp blocks until MRSP is complete. For a non-blocking version, use instead:</p>
<p>naaice_init_mrsp while (communication_context-&gt;state &lt; MRSP_DONE) { naaice_poll_cq_nonblocking }</p>
<p>naaice_do_data_transfer blocks until MRSP is complete. For a non-blocking version, use instead:</p>
<p>naaice_init_data_transfer while (communication_context-&gt;state &lt; FINISHED) { naaice_poll_cq_nonblocking } </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a5f2be45182f0cc39afb7cc3a8d55a1f1" name="a5f2be45182f0cc39afb7cc3a8d55a1f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f2be45182f0cc39afb7cc3a8d55a1f1">&#9670;&#160;</a></span>message_id</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a5f2be45182f0cc39afb7cc3a8d55a1f1">message_id</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message IDs used for packets sent between host and NAA. </p>
<p>Defines the types of messages exchanged during the Memory Region Setup Protocol (MRSP) and other control communication. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a5f2be45182f0cc39afb7cc3a8d55a1f1a8fd265e7fd63cf70cfc8e61d515c7660" name="a5f2be45182f0cc39afb7cc3a8d55a1f1a8fd265e7fd63cf70cfc8e61d515c7660"></a>MSG_MR_ERR&#160;</td><td class="fielddoc"><p>Error message. </p>
</td></tr>
<tr><td class="fieldname"><a id="a5f2be45182f0cc39afb7cc3a8d55a1f1a2452686f8cba3b6595541692c6090f63" name="a5f2be45182f0cc39afb7cc3a8d55a1f1a2452686f8cba3b6595541692c6090f63"></a>MSG_MR_AAR&#160;</td><td class="fielddoc"><p>Memory region advertisement and request, sent by host. </p>
</td></tr>
<tr><td class="fieldname"><a id="a5f2be45182f0cc39afb7cc3a8d55a1f1a509feadbdb916483a76b424927cf5774" name="a5f2be45182f0cc39afb7cc3a8d55a1f1a509feadbdb916483a76b424927cf5774"></a>MSG_MR_A&#160;</td><td class="fielddoc"><p>Memory region advertisement without request, usually sent by NAA. </p>
</td></tr>
<tr><td class="fieldname"><a id="a5f2be45182f0cc39afb7cc3a8d55a1f1a3a97e2ca003744ca41dde8d9e36ba273" name="a5f2be45182f0cc39afb7cc3a8d55a1f1a3a97e2ca003744ca41dde8d9e36ba273"></a>MSG_MR_R&#160;</td><td class="fielddoc"><p>Reserved/unused message ID. </p>
</td></tr>
</table>

</div>
</div>
<a id="a21fb508cec847f2df016cd6620aeff23" name="a21fb508cec847f2df016cd6620aeff23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a21fb508cec847f2df016cd6620aeff23">&#9670;&#160;</a></span>naaice_mrflags_value</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="#a21fb508cec847f2df016cd6620aeff23">naaice_mrflags_value</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Flags for memory regions in <a class="el" href="structnaaice__mr__advertisement__request.html" title="Memory region advertisement and request message structure.">naaice_mr_advertisement_request</a>. </p>
<p>Specifies additional information about an advertised or requested memory region needed by the NAA. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a21fb508cec847f2df016cd6620aeff23a5e908e514ded090eea43eac86edf15e7" name="a21fb508cec847f2df016cd6620aeff23a5e908e514ded090eea43eac86edf15e7"></a>MRFLAG_INTERNAL&#160;</td><td class="fielddoc"><p>Memory region is for internal use on the NAA only; not transferred. </p>
</td></tr>
<tr><td class="fieldname"><a id="a21fb508cec847f2df016cd6620aeff23ae1ab55e3a2b3476e3aff68bddc892d0d" name="a21fb508cec847f2df016cd6620aeff23ae1ab55e3a2b3476e3aff68bddc892d0d"></a>MRFLAG_SINGLESEND&#160;</td><td class="fielddoc"><p>Memory region is sent only once on the first RPC; subsequent RPCs skip it. </p>
</td></tr>
<tr><td class="fieldname"><a id="a21fb508cec847f2df016cd6620aeff23a7a7acefda94a542c3fb6dceec98ffaaa" name="a21fb508cec847f2df016cd6620aeff23a7a7acefda94a542c3fb6dceec98ffaaa"></a>MRFLAG_INPUT&#160;</td><td class="fielddoc"><p>Memory region represents an RPC input parameter. </p>
</td></tr>
<tr><td class="fieldname"><a id="a21fb508cec847f2df016cd6620aeff23a5fc89f04dd09b11b48c3196c85427450" name="a21fb508cec847f2df016cd6620aeff23a5fc89f04dd09b11b48c3196c85427450"></a>MRFLAG_OUTPUT&#160;</td><td class="fielddoc"><p>Memory region represents an RPC output parameter. </p>
</td></tr>
</table>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2
</small></address>
</div><!-- doc-content -->
</body>
</html>
